# AiAnalysisBot 系统架构

## 系统架构图

![系统架构图](/Users/apexlin/Desktop/project/AiAnalysisBot/docs/images/architecture.png)

## 核心组件

### 1. Telegram 客户端模块
- 负责与 Telegram API 交互
- 监听目标频道的消息
- 发送交易指令到交易机器人

### 2. 消息解析模块
- 解析不同类型的消息（KOL购买、ATH价格等）
- 提取代币信息（地址、名称、符号等）
- 标准化数据格式供后续分析

### 3. AI 分析模块
- 连接多种 AI 模型（DeepSeek、OpenAI）
- 分析代币信息和市场数据
- 生成交易建议和风险评估

### 4. 交易执行模块
- 根据 AI 分析结果决定是否执行交易
- 构建并发送交易指令
- 记录交易信息和结果

### 5. 策略进化模块
- 分析历史交易数据
- 识别成功和失败模式
- 自适应优化交易策略

### 6. 日志和数据存储
- 记录系统运行日志
- 存储交易历史和分析结果
- 提供数据支持策略优化


## 性能指标
| 指标         | 测试值      | 行业基准 |
|--------------|-------------|----------|
| 单节点 TPS   | 1500 tx/s   | 1000 tx/s|
| 请求延迟     | <50ms       | <100ms   |
| 数据分析耗时 | 200ms/请求  | 500ms    |

## 灾备方案
1. 多区域部署：在 华为云北京/广州 区域部署双活节点
2. 自动回滚：检测到连续 5 次交易失败自动回退至稳定版本
3. 冷备策略：每日 00:00 进行数据库快照备份

## 技术流程图（新增）
```mermaid
graph TD
    A[Telegram消息接收] --> B{消息类型判断}
    B -->|KOL购买信号| C[解析代币地址]
    B -->|价格预警| D[验证ATH数据]
    C --> E[AI多模型分析]
    D --> E
    E --> F{风险评估}
    F -->|通过| G[执行交易]
    F -->|拒绝| H[记录决策日志]